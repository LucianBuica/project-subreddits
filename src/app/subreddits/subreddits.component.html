<div class="container">
    
    <form class="my-form" (ngSubmit)="onSubmit()">
      <mat-form-field class="input-full-width">
        <mat-label>Subreddit</mat-label>
        <input #subredditName name="subredditName" type="text" matInput
        [formControl]="subredditFormControl" 
        autocomplete="off" 
        [errorStateMatcher]="matcher">
        <mat-error *ngIf="subredditFormControl.hasError('required')">
          Subreddit is <strong>required</strong>
        </mat-error>
        
      </mat-form-field>
    </form>

    <div class="loader" *ngIf="showLoader">
      <mat-progress-spinner mode="indeterminate" diameter="30"></mat-progress-spinner>
    </div>


    <mat-card *ngFor="let subreddit of Subreddits; let i = index">
        <mat-card-title>{{ subreddit.data.title }}</mat-card-title>
        <mat-card-content>
            <p>Upvotes: {{ subreddit.data.ups }}</p>
            <p>Downvotes: {{ subreddit.data.downs }}</p>    
        </mat-card-content>
    
        <mat-card-actions>
            <mat-expansion-panel hideToggle [disabled]="subreddit.data.selftext ==''">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Details        
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <p>{{ subreddit.data.selftext }}</p>
            </mat-expansion-panel>
        </mat-card-actions>
    </mat-card>
    
</div>


